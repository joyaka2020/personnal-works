{% extends 'admin/base.html.twig' %}

{% block title %}Genres{% endblock %}

{% block body %}
    <div class="row">
        <div class="col">
            <h2>Genres</h2>
        </div>
    </div>
    <div class="row">
        <div class="col">
            <a href="{{ path('admin_genre_add') }}" class="btn btn-primary">Ajouter un genre</a>
        </div>
    </div>

    <table class="table table-hover">
  <thead>
    <tr>
      <th scope="col">ID</th>
      <th scope="col">Nom</th>
      <th scope="col">Date de création</th>
      <th scope="col">Dernière modification</th>
      <th scope="col"></th>
    </tr>
  </thead>
  <tbody>
    {% for genre in genres %}
    <tr{{ cycle(['', ' class="table-dark"'], loop.index)|raw }}>
      <th scope="row">{{ genre.id }}</th>
      <td>{{ genre.name }}</td>
      <td>{{ genre.createdAt|date('Y-m-d H:i') }}</td>
      <td>{{ genre.updatedAt ? genre.updatedAt|date('Y-m-d H\\hi') }}</td>
      <td><a href="{{ path('admin_genre_edit', {id: genre.id}) }}" class="btn btn-warning">Modifier</a>
      
      <form action="{{ path('admin_genre_delete', {id: genre.id}) }}" method="post" class="d-inline">
        <button class="btn btn-danger">Supprimer</button>
        <input type="hidden" name="_method" value="delete">
      </form>
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}
